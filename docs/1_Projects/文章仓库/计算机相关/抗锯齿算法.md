---
category: 学习笔记
tags:
  - 图形学
---
# 抗锯齿算法

## MSAA

多重采样抗锯齿（MultiSampling Anti-Aliasing，简称MSAA），这是一种在OpenGL中的特殊的超级采样抗锯齿（SSAA），MSAA主要是对 Z-Buffer 和 Stencil Buffer（模板缓冲）进行 SSAA 处理，其原理是通过提取像素界面周围的颜色信息，通过混合颜色信息来消除高对比界面所产生的锯齿。只对多边形的边缘进行抗锯齿处理。


## FXAA

快速近似抗锯齿（Fast Approximately -Aliasing，简称FXAA），是一种典型的边缘检查取样操作。FXAA原理与MSAA相同，其**原理**是通过提取像素界面周围的颜色信息，通过混合颜色信息来消除高对比界面所产生的锯齿。但是，FXAA将像素的提取和混合过程交由GPU 内的ALU（arithmetic and logic unit，算术逻辑单元）执行，所占用的显存带宽会 << 传统的MSAA。
> 优缺点：消耗低，速度快；但是是一种粗糙的模糊处理。


## SMAA

Enhanced Subpixel Morphological，子像素增强抗锯齿，SMAA 与 FXAA 类似，性能消耗小，但是相比 FXAA 更清晰。SMAA 是后处理抗锯齿技术的一种，它的基本处理流程建立在 Jimenez 优化改造后的 MLAA（形态学抗锯齿）算法之上。原始的MLAA是由英特尔实验室提出的抗锯齿技术，这项技术代表着后处理式抗锯齿蓬勃发展的开端。最初，MLAA 是为 CPU 设计的，Jimenez 对其进行改造并移植到 GPU 上，使其适用于实时渲染。SMAA 则是在此基础上进一步发展而来的。
> 优缺点：动态画面时，锯齿抖动厉害。


## CSAA

Coverage Sampling Anti-Aliasing，覆盖采样抗锯齿，这是一种覆盖的采样，它的原理是将边缘多边形里需要采样的子像素坐标覆盖掉，抒原像素坐标强制安置在硬件和驱动程序预告算好的坐标中。这就好比采样标准统一的 MSAA，能够最高效率地执行边缘采样，交通提升非常明显，同时资源占用也比较低。  
相比 MSAA 减少了带宽和存储开销。


## TXAA

让电影画质的游戏体验达到逼真水平。TXAA 抗锯齿比 MSAA和FXAA 以及 CSAA 的画质更高，制作CG电影的电影制片厂会在抗锯齿方面花费大量的计算资源，从而可确保观众不会因不逼真的锯齿状线条而分心。如果想要让游戏接近这种级别的保真度，那么开发商需要全新的抗锯齿技术，不但要减少锯齿状的线条，而且要减少锯齿状闪烁情形，同时还不降低性能。为了便于开发商实现这种保真度的提升，英伟达设计了画质更高的抗锯齿模式，名为 TXAA 。该模式专为直接集成到游戏引擎中而设计。

与CG电影中所采用的技术类似，TXAA 集 MSAA 的强大功能与复杂的解析滤镜于一身，可呈现出更加平滑的图像效果，远远超越了所有同类技术。此外，TXAA 还能够对帧之间的整个场景进行抖动采样，以减少闪烁情形，闪烁情形在技术上又称作时间性锯齿。

目前，TXAA有两种模式：TXAA2X 和 TXAA4X。TXAA2X 可提供堪比 8XMSAA 的视觉保真度，然而所需性能却与 2XMSAA 相类似；TXAA4X 的图像保真度胜过 8XMSAA，所需性能仅仅与 4XMSAA 相当。


## CFAA

Custom Filter Anti-Aliasing，可编程过滤抗锯齿，起源于 AMD 的 R600 系列。简单地说 CFAA 就是扩大取样面积的 MSAA，比方说之前的 MSAA 是严格选取物体边缘像素进行缩放的，而 CFAA 则可以通过驱动和谐灵活地选择对影响锯齿效果较大的像素进行缩放，以较少的性能牺牲换取平滑效果。显卡资源占用也比较小。


## MFAA

Multi-Frame Sampled Anti-Aliasing，多帧采样抗锯齿，与 MSAA 基于像素采样有所不同，MFAA 是基于帧采样的，我们大致可以这么理解，MFAA 是在相邻的两帧上各执行一次抗锯齿采样，然后通过 NVIDIA 自行开发的图像合成处理技术来整合采样结果，最后输出完成抗锯齿运算的图像。